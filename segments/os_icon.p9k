#!/usr/bin/env zsh
# vim:ft=zsh ts=2 sw=2 sts=2 et fenc=utf-8
################################################################
# @title powerlevel9k Segment - OS Icon
# @source [powerlevel9k](https://github.com/bhilburn/powerlevel9k)
##

################################################################
# Register segment icon
# Parameters:
#   name_of_icon  Generic  Flat/Awesome-Patched  Awesome-FontConfig  Awesome-Mapped-FontConfig  NerdFont
case "$OS" in
  #                                                               ÓâÆ            ÔÖπ           ÔÖπ                                ÔÖπ
  "OSX")      registerSegment "OS_ICON" "" "black" "white" 'OSX'  $'\uE26E'    $'\uF179'    '\u'$CODEPOINT_OF_AWESOME_APPLE  $'\uF179' ;;
  #                                                               ÓâØ            Óúè           Óúè                                Óúè
  "Windows")  registerSegment "OS_ICON" "" "black" "white" 'WIN'  $'\uE26F'    $'\uF17A'    $'\uF17A'                        $'\uF17A' ;;
  #                                                               üòà           üòà           üòà                                Ôåé
  "BSD")      registerSegment "OS_ICON" "" "black" "white" 'BSD'  $'\U1F608 '  $'\U1F608 '  $'\U1F608 '                      $'\uF30E ' ;;
#  OpenBSD) ;;
#  DragonFly) ;;
  "Linux")
    case "$OS_ID" in
      #                                                                                                                                   ÔåÄ
      "arch")                  registerSegment "OS_ICON" "" "black" "white" 'Arc'  'Arc'      'Arc'      'Arc'                            $'\uF300' ;;
      #                                                                                                                                   ÔåÇ
      "debian")                registerSegment "OS_ICON" "" "black" "white" 'Deb'  'Deb'      'Deb'      'Deb'                            $'\uF302' ;;
      #                                                                                                                                   Ôåå
      "ubuntu")                registerSegment "OS_ICON" "" "black" "white" 'Ubu'  'Ubu'      'Ubu'      'Ubu'                            $'\uF30C' ;;
      #                                                                                                                                   Ôåë
      "elementary")            registerSegment "OS_ICON" "" "black" "white" 'Elm'  'Elm'      'Elm'      'Elm'                            $'\uF311' ;;
      #                                                                                                                                   ÔåÉ
      "fedora")                registerSegment "OS_ICON" "" "black" "white" 'Fed'  'Fed'      'Fed'      'Fed'                            $'\uF303' ;;
      #                                                                                                                                   Ôåè
      "coreos")                registerSegment "OS_ICON" "" "black" "white" 'Cor'  'Cor'      'Cor'      'Cor'                            $'\uF30F' ;;
      #                                                                                                                                   Ôåê
      "gentoo")                registerSegment "OS_ICON" "" "black" "white" 'Gen'  'Gen'      'Gen'      'Gen'                            $'\uF310' ;;
      #                                                                                                                                   ÔåÜ
      "mageia")                registerSegment "OS_ICON" "" "black" "white" 'Mag'  'Mag'      'Mag'      'Mag'                            $'\uF306' ;;
      #                                                                                                                                   ÔåÅ
      "centos")                registerSegment "OS_ICON" "" "black" "white" 'Cen'  'Cen'      'Cen'      'Cen'                            $'\uF301' ;;
      #                                                                                                                                   Ôåà
      "opensuse"|"tumbleweed") registerSegment "OS_ICON" "" "black" "white" 'OSu'  'OSu'      'OSu'      'OSu'                            $'\uF308' ;;
      #                                                                                                                                   Ôåì
      "sabayon")               registerSegment "OS_ICON" "" "black" "white" 'Sab'  'Sab'      'Sab'      'Sab'                            $'\uF313' ;;
      #                                                                                                                                   Ôåä
      "slackware")             registerSegment "OS_ICON" "" "black" "white" 'Sla'  'Sla'      'Sla'      'Sla'                            $'\uF30A' ;;
      #                                                                                                                                   ÔåÑ
      "linuxmint")             registerSegment "OS_ICON" "" "black" "white" 'LMi'  'LMi'      'LMi'      'LMi'                            $'\uF304' ;;
      #                                                                            Óâ±          ÔÖº          ÔÖº                               ÔÖº
      *)                       registerSegment "OS_ICON" "" "black" "white" 'Lx'   $'\uE271'  $'\uF17C'  '\u'$CODEPOINT_OF_AWESOME_LINUX  $'\uF17C' ;;
    esac
  ;;
  #                                                               Óâ∞           ÔÖª           ÔÖª                                   ÔÖª
  "Android") registerSegment "OS_ICON" "" "black" "white"  'And'  $'\uE270'    $'\uE17B'   $'\uF17B'                           $'\uF17B'
  ;;
  #                                                               üåû           ÔÜÖ           ÔÜÖ                                  ÔÜÖ
  "Solaris") registerSegment "OS_ICON" "" "black" "white"  'Sun'  $'\U1F31E '  $'\uF185 '  '\u'$CODEPOINT_OF_AWESOME_SUN_O' '  $'\uF185 '
    ;;
  *)
    registerSegment "OS_ICON" "" "black" "white"  ''  ''  ''  ''  ''
    OS=''
    ;;
esac

################################################################
# @description
#   Displays the OS icon only.
##
# @args
#   $1 string Alignment - left | right
#   $2 integer Segment index
#   $3 boolean Whether the segment should be joined
##
# @note
#   Only displays the specific Linux distro icon if available,
#   otherwise just uses the Tux icon.
##
prompt_os_icon() {
  p9kPrepareSegment "$0" "" $1 "$2" $3 "" "[[ true ]]"
}
